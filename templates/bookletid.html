{% extends "mainbase.html" %}


{% block maincontent %}


<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
  {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                 <div class="alert alert-{{ category }}" role="alert"> {{ message }}</div>
                 <hr>
              {% endfor %}
            {% endif %}
        {% endwith %}
  <div class="jumbotron">
        <h2 class="display-4">{{ data.fname }} {{ data.lname }}</h2>
        <p class="lead">{{ data.pn}}</p>
        <hr class="my-4">

        <div class="form-group">
        <label>Gender:  </label>
        <label>{{ data.gender }}</label>
        </div>
        <div class="form-group">
        <label>Email:  </label>
        <label>{{ data.email }}</label>
        </div>
        <div class="form-group">
        <label>Phone:  </label>
        <label>{{ data.phone }}</label>
        </div>
  </div>

  <table id="example2" class="table table-hover">

    <thead>
      <tr>
        <th></th>
      </tr>
    </thead>

    <tbody>
          {% for record in records %}
          <tr>
          <th>
              <div class="row">
              <div class="col-sm-5">
              <div class="panel panel-default">
              <button class="collapsible">{{ record.emp_name }}({{ record.emp_type }}) {{ record.time }}</button>
              <div class="content">
                  Symptoms:<br>
                  {{ record.symptoms }}<br>
                  Diagnosis:<br>
                  {{ record.diagnosis }}<br>
                  Medicine:<br>
                  {{ record.medicine }}<br>
                  Recommendations:<br>
                  {{ record.recommendations }}<br>
                  Other:<br>
                  {{ record.other }}
              </div>
              </div><!-- /panel panel-default -->
              </div><!-- /col-sm-5 -->
              </div><!-- /row -->
          </th>
          </tr>
          {% endfor %}
    </tbody>

    <tfoot>
      <tr>
        <th></th>
      </tr>
    </tfoot>

  </table>


  <form action="{{ url_for('bookletcommentPOST', id=id)}}" method="POST">
  <div class="container">

    
    <div class="row">
    <div class="col-md-12">

    <h2 class="display-4">Insert a new record</h2>


    <label>Symptoms:</label>
    <input type="symptoms" name="symptoms" class="form-control" placeholder="Symptoms" style="width: 50%;" value={{comdata.symptoms}}>
    <label>Diagnosis:</label>
    <input type="diagnosis" name="diagnosis" class="form-control" placeholder="Diagnosis" style="width: 50%;" value={{comdata.diagnosis}}>
    <label>Medicine:</label>
    <input type="medicine" name="medicine" class="form-control" placeholder="Medicine" style="width: 50%;" value={{comdata.medicine}}>
    <label>Recommendations:</label>
    <input type="recommendations" name="recommendations" class="form-control" placeholder="Recommendations" style="width: 50%;" value={{comdata.recommendations}}>
    <label>Test review and other notes:</label>
                <div class="widget-area no-padding blank">
                <div class="status-upload">
                  <form>
                    <textarea placeholder="Enter additional information here" name="other" type="other" style="width: 50%; height: 100px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;" value={{comdata.other}}></textarea>
                    <br>
                    <button type="submit" class="btn btn-success green"><i class="fa fa-share"></i> Share</button>
                  </form>
                </div><!-- Status Upload  -->
              </div><!-- Widget Area -->
            </div>
        
    </div>
    </div>
  </form>


  <script>
    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.maxHeight){
          content.style.maxHeight = null;
        } else {
          content.style.maxHeight = content.scrollHeight + "px";
        } 
      });
    }
  </script>
{% endblock %}

