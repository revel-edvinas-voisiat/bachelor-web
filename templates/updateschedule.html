{% extends "mainbase.html" %}


{% block maincontent %}
<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

		<h2 class="display-4">Schedule List</h2>
          
		
	          <hr>
	        {% with messages = get_flashed_messages(with_categories=true) %}
	              {% if messages %}
	                {% for category, message in messages %}
	                   <div class="alert alert-{{ category }}" role="alert"> {{ message }}</div>
	                   <hr>
	                {% endfor %}
	              {% endif %}
	          {% endwith %}

          	<table id="example2" class="table table-bordered table-hover">
                <thead>
	                <tr>
	                  <th>ID</th>
	                  {% if isadmin %}
					  	<th>UserID</th>
					  	<th>Type</th>
					  {% endif %}
	                  <th>Year</th>
	                  <th>Month</th>
	                  <th>Workhours</th>
	                  <th>Action</th>
	                </tr>
                </thead>
                <tbody>
		            {%for row in range(1,(rows)| length)%}
			    		<tr>
				        	<td>{{ rows[row].id }}</a></td>
				        	{% if isadmin %}
				        		<td>{{ rows[row].uid }}</td>
				        		<td>{{ rows[row].type }}</td>
				        	{% endif %}
				        	<td>{{ rows[row].year }}</td>
				        	<td>{{ rows[row].month }}</td>
				        	<td>{{ rows[row].shift }}</td>
				        	<th>
				        		{% if futureMonth[row] %}
				        		<a href="{{ url_for('updatescheduleredirect', id=rows[row].id) }}"><button type="button" class="btn btn-primary btn-sm m-1" data-toggle="modal" data-target="" onclick="return confirm('Are you sure you want to edit it?(it will actually cancel all registered visits for this month)')">Update</button>

				        		<a href="{{ url_for('deleteschedulePOST', id=rows[row].id) }}"><button type="button" class="btn btn-danger btn-sm m-1" data-toggle="modal" data-target="" onclick="return confirm('Are you sure you want to delete it?(it will actually cancel all registered visits for this month)')">Delete</button>
				        		{% endif %}
				        	</th>
			    		</tr>
		    		{% endfor %}
	    		</tbody>
	    		<tfoot>
	    			<tr>
	                  <th>ID</th>
	                  {% if isadmin %}
	                  	<th>UserID</th>
	                  	<th>Type</th>
	                  {% endif %}
	                  <th>Year</th>
	                  <th>Month</th>
	                  <th>Workhours</th>
	                  <th>Action</th>
	                </tr>
	           	</tfoot>
    		</table>

              


















    {% endblock %}

